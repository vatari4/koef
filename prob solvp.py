
import numpy as np
from mpmath import mp
mp.dps = 40

array1 = np.array = (
    [
[37755.313, 31852.686, 2915.4507],
[44166.203, 31852.871, 5816.2055],
[50602.914, 31852.154, 8716.9603],
[57064.195, 31854.012, 11617.7151],
[37641.207, 41482.734, 2915.4507], #41482.559
[43928.785, 41483.579, 5816.2055], #41485.387
[50248.727, 41481.750, 8716.9603], #41485.332
[56599.164, 41483.940, 11617.7151],#41482.281
[37737.520, 52015.219, 2915.4507],
[43876.305, 52015.434, 5816.2055],
[50054.813, 52015.219, 8716.9603],
[56271.172, 52015.387, 11617.7151],
[38100.914, 63550.488, 2915.4507],
[44062.836, 63548.438, 5816.2055],
[50073.414, 63548.992, 8716.9603],
[56130.320, 63549.047, 11617.7151],
[38822.969, 76168.156, 2915.4507],
[44568.336, 76167.750, 5816.2055],
[50373.582, 76166.727, 8716.9603],
[56235.402, 76168.617, 11617.7151]
    ]
)

for i in range(20):
    array1[i][0] = 1.0*array1[i][0]
    array1[i][1] = 1.0*array1[i][1]

free = np.zeros(20,dtype = np.float64)
for i in range(20):
    free[i] = array1[i][2]
print(free)

mat = np.zeros((20,20),dtype = np.float64)
for i in range(20):

    mat[i][0] = 1
    mat[i][1] = array1[i][1]
    mat[i][2] = array1[i][1]**2
    mat[i][3] = array1[i][1]**3
    mat[i][4] = array1[i][1]**4

    mat[i][5] = array1[i][0]
    mat[i][6] = array1[i][0]*array1[i][1]
    mat[i][7] = array1[i][0]*array1[i][1]**2
    mat[i][8] = array1[i][0]*array1[i][1]**3
    mat[i][9] = array1[i][0]*array1[i][1]**4

    mat[i][10] = array1[i][0]**2
    mat[i][11] = (array1[i][0]**2)*array1[i][1]
    mat[i][12] = (array1[i][0]**2)*array1[i][1]**2
    mat[i][13] = (array1[i][0]**2)*array1[i][1]**3
    mat[i][14] = (array1[i][0]**2)*array1[i][1]**4

    mat[i][15] = array1[i][0]**3
    mat[i][16] = (array1[i][0]**3)*array1[i][1]
    mat[i][17] = (array1[i][0]**3)*array1[i][1]**2
    mat[i][18] = (array1[i][0]**3)*array1[i][1]**3
    mat[i][19] = (array1[i][0]**3)*array1[i][1]**4
    
#print(mat)

x = np.linalg.solve(mat, free)
print("koefP",x)

for j in range(2):
    d = 0
    for i in range(20):
        d += x[i]*mat[j][i]
    print(d)

ft = 78390.5 #31850.492
fp = 56282.556 #31371.922
d = x[0]+x[1]*ft+x[2]*ft**2+x[3]*ft**3+x[4]*ft**4\
+x[5]*fp+x[6]*fp*ft+x[7]*fp*ft**2+x[8]*fp*ft**3+x[9]*fp*ft**4\
+x[10]*fp**2+x[11]*(fp**2)*ft+x[12]*(fp**2)*ft**2+x[13]*(fp**2)*ft**3+x[14]*(fp**2)*ft**4\
+x[15]*fp**3+x[16]*(fp**3)*ft+x[17]*(fp**3)*ft**2+x[18]*(fp**3)*ft**3+x[19]*(fp**3)*ft**4    
print(d)
        
    